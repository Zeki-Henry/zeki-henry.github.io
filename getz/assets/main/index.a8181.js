window.__require=function e(t,n,o){function r(a,c){if(!n[a]){if(!t[a]){var s=a.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return r(t[a][1][e]||e)},u,u.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)r(o[a]);return r}({AudioMgr:[function(e,t,n){"use strict";cc._RF.push(t,"e47adL5nsxBH7ZNLxOk1Exc","AudioMgr");var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=(r.property,e("./BaseFunc")),c=e("../GManager"),s=function(){function e(){}return e.bgmVolume=1,e.sfxVolume=1,e.bgmSwitch=!0,e.sfxSwitch=!0,e.bgmAudioID=null,e.init=function(){this.bgmVolume=a.BaseFunc.load("bgmVolume",1),this.sfxVolume=a.BaseFunc.load("sfxVolume",1),cc.audioEngine.setMusicVolume(this.bgmVolume),cc.audioEngine.setEffectsVolume(this.sfxVolume),cc.game.on(cc.game.EVENT_HIDE,function(){cc.audioEngine.pauseAll(),cc.audioEngine.setVolume(this.bgmAudioID,0)}.bind(this)),cc.game.on(cc.game.EVENT_SHOW,function(){cc.audioEngine.resumeAll(),cc.audioEngine.setVolume(this.bgmAudioID,this.bgmVolume)}.bind(this))},e.playBGM=function(e,t){void 0===t&&(t=!0),null!=this.bgmAudioID&&cc.audioEngine.stop(this.bgmAudioID),c.GManager.loadAudio(e,function(e){this.bgmAudioID=cc.audioEngine.playMusic(e,t)}.bind(this))},e.stopBGM=function(){null!=this.bgmAudioID&&cc.audioEngine.stop(this.bgmAudioID),this.bgmAudioID=null},e.playSFX=function(e){this.sfxVolume>0&&c.GManager.loadAudio(e,function(e){cc.audioEngine.playEffect(e,!1)}.bind(this))},e.getSFXVolume=function(){return this.sfxVolume},e.setSFXVolume=function(e){this.sfxSwitch?(a.BaseFunc.save("sfxVolume",e),this.sfxVolume=e,cc.audioEngine.setEffectsVolume(this.sfxVolume)):cc.audioEngine.setEffectsVolume(0)},e.getBGMVolume=function(){return this.bgmVolume},e.setBGMVolume=function(e){cc.log("setBGMVolume v",e),cc.log("setBGMVolume AudioMgr.bgmSwitch",this.bgmSwitch),null!=this.bgmAudioID&&(e>0?cc.audioEngine.resumeMusic():cc.audioEngine.pauseMusic()),this.bgmSwitch?(a.BaseFunc.save("bgmVolume",e),this.bgmVolume=e,cc.audioEngine.setMusicVolume(e)):cc.audioEngine.setMusicVolume(0)},e.pauseAll=function(){cc.audioEngine.pauseAll()},e.resumeAll=function(){cc.audioEngine.resumeAll()},e=o([i],e)}();n.default=s,cc._RF.pop()},{"../GManager":"GManager","./BaseFunc":"BaseFunc"}],BaseFunc:[function(e,t,n){"use strict";cc._RF.push(t,"fada3w0GTtJ7L5RMlUyx6yc","BaseFunc"),Object.defineProperty(n,"__esModule",{value:!0}),n.BaseFunc=n.ButtonEffects=n.NODE_TYPE=void 0;var o,r=e("../GManager"),i=0,a=null,c=["BackgroundNode","MainNode","MenuNode","PopNode","FlushNode"];(function(e){e[e.BACKGROUND_NODE=0]="BACKGROUND_NODE",e[e.MAIN_NODE=1]="MAIN_NODE",e[e.MENU_NODE=2]="MENU_NODE",e[e.POP_NODE=3]="POP_NODE",e[e.FLUSH_NODE=4]="FLUSH_NODE"})(n.NODE_TYPE||(n.NODE_TYPE={})),function(e){e[e.NONE=0]="NONE",e[e.COLOR=1]="COLOR",e[e.SPRITE=2]="SPRITE",e[e.SCALE=3]="SCALE"}(o=n.ButtonEffects||(n.ButtonEffects={})),function(e){function t(){var e=window.location.search,t={};if(-1!=e.indexOf("?"))for(var n=e.substr(1).split("&"),o=0;o<n.length;o++){var r=n[o].split("=");t[r[0]]=decodeURIComponent(r[1])}return t}function n(e,t){return void 0===t&&(t=null),void 0===e?0:(null!=t&&void 0!==t||(t=e,e=0),Math.floor(Math.random()*(t-e)+e))}e.checkNetwork=function(e,t){if(void 0===t&&(t=!1),console.log("[checkNetwork]"),!t&&cc.sys.getNetworkType()!=cc.sys.NetworkType.NONE)return console.log("[checkNetwork] handler"),void(e&&e())},e.serverDate=function(){return new Date(Date.now()+1e3*i)},e.serverUnixTime=function(){return Math.round(Date.now()/1e3)+i},e.parseSearch=t,e.parseSearchByName=function(e){return t()[e]||!1},e.encrypt=function(e){if(null!=e){for(var t=String.fromCharCode(e.charCodeAt(0)+e.length),n=1;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)+e.charCodeAt(n-1));return escape(t)}},e.decrypt=function(e){e=unescape(e);for(var t=String.fromCharCode(e.charCodeAt(0)-e.length),n=1;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)-t.charCodeAt(n-1));return t},e.versionCompare=function(e,t){for(var n=e.split("."),o=t.split("."),r=0;r<n.length;++r){var i=parseInt(n[r]),a=parseInt(o[r]||"0");if(i!==a)return i-a}return o.length>n.length?-1:0},e.callStaticMethod=function(e,t,n,o){void 0===o&&(o=[])},e.IsJSON=function(e){if("string"==typeof e)try{var t=JSON.parse(e);return!("object"!=typeof t||!t)}catch(e){return!1}return!1},e.checkUpdate=function(){var e=0;return!(e>=r.GManager.commonData.versionupdate.vn)},e.save=function(t,n){var o=JSON.stringify(n);o=e.encrypt(o),cc.sys.localStorage.setItem(t,o)},e.load=function(t,n){void 0===n&&(n=null);var o=cc.sys.localStorage.getItem(t);return null!=o&&0<o.length&&" "!=o?(o=e.decrypt(o),JSON.parse(o)):void 0===n?null:n},e.saveKeyWithDate=function(e){var t=new Date,n=""+t.getFullYear()+t.getMonth()+t.getDate();this.save(e,n)},e.loadKeyWithDate=function(e){var t=new Date,n=""+t.getFullYear()+t.getMonth()+t.getDate();return this.load(e)==n},e.mainCanvas=function(){return cc.director.getScene().getChildByName("Canvas")},e.createNode=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null);var n=new cc.Node;return n.name=e||"",t||(t=cc.director.getScene().getChildByName("Canvas")),t.addChild(n),n},e.getWorkNode=function(t){null==a&&(a=cc.Canvas.instance.node);var n=a.getChildByName(c[t]);return null===n&&((n=e.createNode(c[t])).zIndex=10+t,n.setContentSize(a.getContentSize())),n},e.regEventHandler=function(e){for(var t=Reflect.getPrototypeOf(e),n=0,o=Object.keys(t);n<o.length;n++){var i=o[n];if(-1!==i.indexOf("_handler")&&"function"==typeof t[i]){var a=i.substring(0,i.length-8);r.GManager.addEvtListener(a,t[i],e.uuid)}}},e.removeEventHandler=function(e){r.GManager.removeEvtListenerByUuid(e.uuid)},e.getWeightIdx=function(e){for(var t=0,o=0,r=e;o<r.length;o++)t+=r[o];for(var i=n(t),a=0;a<e.length;a++){if(i<e[a])return a;i-=e[a]}return 0},e.SetSpriteImage=function(e,t,n){void 0===n&&(n=!1);var o=function(t){if(null!==t){var o=null;if(e instanceof cc.Sprite&&null!==e.node?o=e:e instanceof cc.Node&&null==(o=e.getComponent(cc.Sprite))&&(o=e.addComponent(cc.Sprite)),o||o.node||o.node.isValid){var i=null;i=n?o.node.getContentSize():t.getOriginalSize(),o.spriteFrame=t;var a=o.node.getContentSize();o.node.setScale(i.width/a.width,i.height/a.height)}else r.GManager.log2("SetSpriteImage sprite is null!")}else r.GManager.log2("SetSpriteImage image is null!")};t instanceof cc.SpriteFrame?o(t):r.GManager.loadImage(t,function(e){o(e)})},e.SetButtonTransEffect=function(e,t,n){if(n=void 0!==n?n:.9,e instanceof cc.Button)switch(e.transition=t,t){case o.NONE:case o.COLOR:e.normalColor=new cc.Color(255,255,255),e.pressedColor=new cc.Color(180,180,180),e.hoverColor=new cc.Color(255,255,255),e.disabledColor=new cc.Color(180,180,180);case o.SPRITE:case o.SCALE:e.zoomScale=n}},e.AddButtonEvent=function(e,t,n,o,i){if(void 0===i&&(i=0),e instanceof cc.Node&&null===(e=e.getComponent(cc.Button)||e.getComponent(cc.Toggle)))r.GManager.log("AddButtonEvent btn component is null!");else{e.clickEvents=e.clickEvents||[];var a=new cc.Component.EventHandler;a.target=t,a.component=n,a.handler=o,i>=0&&e instanceof cc.Node&&this.SetButtonTransEffect(e.getComponent(cc.Button),i),i>=0&&(e instanceof cc.Node?this.SetButtonTransEffect(e.getComponent(cc.Button),i):e instanceof cc.Button&&this.SetButtonTransEffect(e,i)),e.clickEvents.push(a)}},e.IsHttpSrc=function(e){return-1!==e.indexOf("http://")||-1!==e.indexOf("https://")},e.InstantiatePrefab=function(t,n){cc.loader.loadRes(t,function(t,o){var r=cc.instantiate(o);null!=r.getComponent("BaseScene")&&e.BindChild(r,r.getComponent("BaseScene").rootNode),n(r)})},e.BindChild=function(e,t){if(null!=e){for(var n in e._components){var o=/(.)+?(?=\<)/g.exec(e._components[n].name),r=/[^\<\)]+(?=\>)/g.exec(e._components[n].name);null!=o&&null!=r?(void 0===t[""+o[0]]&&(t[""+o[0]]={}),t[""+o[0]]["$"+r[0]]=e._components[n]):t[""+e._components[n].name]=e._components[n]}for(var i in e.children)t[""+e.children[i].name]=e.children[i],this.BindChild(e.children[i],t,"")}},e.getExitBoxString=function(e){return e instanceof cc.Node&&(e=e.getComponent(cc.EditBox)),null===e?"":e.string},e.setExitBoxString=function(e,t){e instanceof cc.Node&&(e=e.getComponent(cc.EditBox)),null!==e&&(e.string=t)},e.getLabelString=function(e){return e instanceof cc.Node&&(e=e.getComponent(cc.Label)),null===e?"":e.string},e.setLabelString=function(e,t){e instanceof cc.Node&&(e=e.getComponent(cc.Label)),null!==e&&(e.string=t)},e.Random=n,e.CleanCopy=function(e){return void 0===e||"object"!=typeof e?[]:Array.isArray(e)?e.slice(0):JSON.parse(JSON.stringify(e))},e.IsWindows=function(){return cc.sys.os==cc.sys.OS_WINDOWS},e.IsAndroid=function(){return cc.sys.os==cc.sys.OS_ANDROID},e.IsIos=function(){return cc.sys.os==cc.sys.OS_IOS},e.IsLongScreen=function(){var e=cc.winSize;return e.width/e.height>1.875},e.IsShortScreen=function(){var e=cc.winSize;return e.width/e.height<1.334},e.toUpperCaseEachWord=function(e){return e.toLowerCase().replace(/( |^)[a-z]/g,function(e){return e.toUpperCase()})},e.playAD=function(e,t){void 0===e&&(e=0),void 0===t&&(t=null),t&&t()}}(n.BaseFunc||(n.BaseFunc={})),cc._RF.pop()},{"../GManager":"GManager"}],BaseScene:[function(e,t,n){"use strict";cc._RF.push(t,"09236/6o8tONpJusxwjsUgb","BaseScene");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../base/BaseFunc"),a=e("./SceneManager"),c=e("../GManager"),s=cc._decorator,l=s.ccclass,u=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sceneName="",t.initParams=null,t.maskClose=!0,t._boundingBoxSize=cc.rect(0,0,0,0),t.rootNode={},t}return o(t,e),t.prototype.__preload=function(){i.BaseFunc.BindChild(this.node,this.rootNode),i.BaseFunc.IsLongScreen()?this.onFixLongScreen():i.BaseFunc.IsShortScreen()&&this.onFixShortScreen(),this.bindButton(),this.preloadAfter()},t.prototype.preloadAfter=function(){},t.prototype.bindButton=function(){},t.prototype.onLoad=function(){},t.prototype.start=function(){var e=this.node.getChildByName("nodePop");if(null!==e){var t=e.getContentSize(),n=this.node.convertToWorldSpaceAR(e.getPosition());this._boundingBoxSize=cc.rect(n.x-t.width*e.anchorX,n.y-t.height*e.anchorY,t.width,t.height)}},t.prototype.onOpenScene=function(){},t.prototype.onCloseScene=function(){},t.prototype.closeCallBack=function(){this.initParams&&"function"==typeof this.initParams.closeCallback&&this.initParams.closeCallback()},t.prototype.onFixLongScreen=function(){},t.prototype.onFixShortScreen=function(){},t.prototype.closeSelf=function(){a.SceneManager.closeScene(this)},t.prototype.addEvtListener=function(e,t){c.GManager.addEvtListener(e,t,this.uuid)},t.prototype.bindButtonEvent=function(e,t,n){void 0===n&&(n=0);for(var o=[],r=3;r<arguments.length;r++)o[r-3]=arguments[r];"string"==typeof e&&(e=cc.find(e,this.node));var a=this.name;a=a.substring(0,a.indexOf("<"))+"."+a.substring(a.indexOf("<")+1,a.length-1);var c=[],s=[];if(o&&o.length>0&&(c=o.filter(function(e){return"function"==typeof e}),s=o.filter(function(e){return"string"==typeof e})),"function"==typeof t?c.push(t):"string"==typeof t&&s.push(t),c.length>0&&(this["onClick"+e.uuid]=function(e,t){for(var n=0,o=c;n<o.length;n++){(0,o[n])(e,t)}},i.BaseFunc.AddButtonEvent(e,this.node,a,"onClick"+e.uuid,n)),s.length>0)for(var l=0,u=s;l<u.length;l++){var p=u[l];i.BaseFunc.AddButtonEvent(e,this.node,a,p)}},t.prototype.getProgress=function(e){if("string"==typeof e&&(e=cc.find(e,this.node)),e instanceof cc.Node&&(e=e.getComponent(cc.ProgressBar)),null!==e)return e.progress},t.prototype.setProgress=function(e,t){"string"==typeof e&&(e=cc.find(e,this.node)),e instanceof cc.Node&&(e=e.getComponent(cc.ProgressBar)),null!==e&&(e.progress=t)},t.prototype.setActive=function(e,t){"string"==typeof e&&(e=cc.find(e,this.node)),null!==e&&(e.active=t)},t.prototype.SetSpriteImage=function(e,t,n){void 0===n&&(n=!1),"string"==typeof e&&(e=cc.find(e,this.node)),i.BaseFunc.SetSpriteImage(e,t,n)},t.prototype.getEditBoxString=function(e){return"string"==typeof e&&(e=cc.find(e,this.node)),i.BaseFunc.getExitBoxString(e)},t.prototype.setEditBoxString=function(e,t){"string"==typeof e&&(e=cc.find(e,this.node)),i.BaseFunc.setExitBoxString(e,t)},t.prototype.getLabelString=function(e){return"string"==typeof e&&(e=cc.find(e,this.node)),i.BaseFunc.getLabelString(e)},t.prototype.setLabelString=function(e,t){"string"==typeof e&&(e=cc.find(e,this.node)),i.BaseFunc.setLabelString(e,t)},t.prototype.checkPopCollision=function(e){return e.x>this._boundingBoxSize.x&&e.x<this._boundingBoxSize.x+this._boundingBoxSize.width&&e.y>this._boundingBoxSize.y&&e.y<this._boundingBoxSize.y+this._boundingBoxSize.height},t=r([l],t)}(cc.Component));n.default=u,cc._RF.pop()},{"../GManager":"GManager","../base/BaseFunc":"BaseFunc","./SceneManager":"SceneManager"}],ConsoleScene:[function(e,t,n){"use strict";cc._RF.push(t,"f9cd53c2dlHbpWcSu9oRLfW","ConsoleScene");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./BaseScene"),a=e("../GManager"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._labelMsg=null,t._msgs=[],t}return o(t,e),t.prototype.onOpenScene=function(){a.GManager.addEvtListener("LOG_INFO",this.updateLogInfo.bind(this)),this._labelMsg=cc.find("nodeLog/labelmsg",this.node).getComponent(cc.Label),this.node.zIndex=100},t.prototype.updateLogInfo=function(e){this._msgs.length>20&&this._msgs.shift(),this._labelMsg.string="",this._msgs.push(e);for(var t=0,n=this._msgs;t<n.length;t++){var o=n[t];this._labelMsg.string+=o+"\n"}},t=r([s],t)}(i.default));n.default=l,cc._RF.pop()},{"../GManager":"GManager","./BaseScene":"BaseScene"}],EventManager:[function(e,t,n){"use strict";cc._RF.push(t,"66d5cnQ5ZlK3aDPplXb7dIO","EventManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.handler=n.EventManager=void 0;var o=e("../GManager");(function(e){var t={},n={};function o(e,n){void 0===n&&(n=null),e&&n&&t[e]&&("function"==typeof n?t[e]=t[e].filter(function(e){return e.callback!==n}):"string"==typeof n&&(t[e]=t[e].filter(function(e){return e.uuid!==n})))}e.addEventListener=function(e,o,r){if(void 0===r&&(r=""),e&&o){var i={};i.callback=o,i.uuid=r,void 0!==t[e]&&null!==t[e]||(t[e]=[]),t[e].push(i),r.length>0&&(null!==n[r]&&void 0!==n[r]||(n[r]=[]),n[r].push(e))}},e.removeEventListener=o,e.removeEventListenerByUUID=function(e){void 0===e&&(e=""),0!=e.length&&null!==n[e]&&void 0!==n[e]&&(n[e].map(function(t){return o(t,e)}),delete n[e])},e.dispatchEvent=function(e,n){if(void 0===n&&(n=null),e){var o="";"string"==typeof e?o=e:e.opcode&&"string"==typeof e.opcode&&(o=e.opcode,n=e.data),t[o]&&t[o].map(function(e){return e.callback(n)})}}})(n.EventManager||(n.EventManager={})),n.handler=function(e){return void 0===e&&(e=null),function(t,n,r){return o.GManager.addEvtListener(e||n,r.value,t.uuid)}},cc._RF.pop()},{"../GManager":"GManager"}],GManager:[function(e,t,n){"use strict";cc._RF.push(t,"172ffGGFo9N3I1yQNsulhF1","GManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.GManager=void 0;var o=e("./base/LogManager"),r=e("./base/EventManager"),i=e("./base/ResManager"),a=e("./base/SceneManager"),c=e("./base/BaseFunc");(function(e){e.isTesting=c.BaseFunc.parseSearchByName("isTesting"),e.isLog=!0,e.log=o.LogManager.log.bind(o.LogManager),e.log2=o.LogManager.log2.bind(o.LogManager),e.info=o.LogManager.info.bind(o.LogManager),e.info2=o.LogManager.info2.bind(o.LogManager),e.info3=o.LogManager.info3.bind(o.LogManager),e.warn=o.LogManager.warn.bind(o.LogManager),e.error=o.LogManager.error.bind(o.LogManager),e.addEvtListener=r.EventManager.addEventListener,e.removeEvtListener=r.EventManager.removeEventListener,e.removeEvtListenerByUuid=r.EventManager.removeEventListenerByUUID,e.dispatchEvent=r.EventManager.dispatchEvent,e.loadPrefab=i.ResManager.loadPrefab,e.loadImage=i.ResManager.loadImage,e.loadImages=i.ResManager.loadImages,e.loadAudio=i.ResManager.loadAudio,e.loadAudios=i.ResManager.loadAudios,e.commonData=[],e.gameConfig={},e.BACKGROUND_NODE=c.NODE_TYPE.BACKGROUND_NODE,e.MAIN_NODE=c.NODE_TYPE.MAIN_NODE,e.MENU_NODE=c.NODE_TYPE.MENU_NODE,e.POP_NODE=c.NODE_TYPE.POP_NODE,e.FLUSH_NODE=c.NODE_TYPE.FLUSH_NODE,e.popScene=a.SceneManager.popScene,e.closeScene=a.SceneManager.closeScene})(n.GManager||(n.GManager={})),cc._RF.pop()},{"./base/BaseFunc":"BaseFunc","./base/EventManager":"EventManager","./base/LogManager":"LogManager","./base/ResManager":"ResManager","./base/SceneManager":"SceneManager"}],GameConfig:[function(e,t,n){"use strict";cc._RF.push(t,"8d5f9y9Mb9HHIBXr2qaj4Nx","GameConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.PLUGIN_ENV=void 0;var o,r,i=e("./framework/GManager");(function(e){e[e.ENV_OFFICIAL=0]="ENV_OFFICIAL",e[e.ENV_TEST=1]="ENV_TEST",e[e.ENV_MIRROR=2]="ENV_MIRROR"})(o=n.PLUGIN_ENV||(n.PLUGIN_ENV={})),function(e){var t;e.CurENV=o.ENV_OFFICIAL,e.version="1.0.0.1",e.packageName="5",e.gameId=1e3,e.wechat="WECHAT\u2014NAME",e.domainSuffix="XXX.com",e.isHttps=!1;var n=((t={})[o.ENV_TEST]={pluginEvn:o.ENV_TEST,webURL:"http://t_front."+e.domainSuffix+"/"},t[o.ENV_MIRROR]={pluginEvn:o.ENV_MIRROR,webURL:"http://m_front."+e.domainSuffix+"/"},t[o.ENV_OFFICIAL]={pluginEvn:o.ENV_OFFICIAL,webURL:"http://front."+e.domainSuffix+"/"},t),r={LOADING_CONFIGS:{http:"webURL",path:"get/loading/configs"}};e.getEvnConfig=function(){return n[e.CurENV]},e.getUrl=function(t){if(r[t]){var o=r[t].http;return o=n[e.CurENV][o]+r[t].path}}}(r||(r={})),i.GManager.gameConfig=r,cc._RF.pop()},{"./framework/GManager":"GManager"}],"GameLogic.getz":[function(e,t,n){"use strict";cc._RF.push(t,"4e839rkBRhFOY9/e94JnFf6","GameLogic.getz"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameLogic=void 0,function(e){e.Letters=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e.nextLetterWeights=[{score:0,weight:[1e3,900,50,10,5,3,1]},{score:300,weight:[800,1100,500,100,50,30,10,5]},{score:800,weight:[700,900,900,500,200,100,80,50,10,5]}]}(n.GameLogic||(n.GameLogic={})),cc._RF.pop()},{}],GameManager:[function(e,t,n){"use strict";cc._RF.push(t,"2c8f0/LhfJGa7VHr5QAG2kv","GameManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../GManager"),a=e("../base/BaseFunc"),c=e("../base/AudioMgr"),s=cc._decorator,l=s.ccclass,u=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){c.default.init(),this.initConfig()},t.prototype.initConfig=function(){this.getOnlineConfig(null)},t.prototype.getOnlineConfig=function(e){i.GManager.popScene("moduleGetZ","ModuleStart",i.GManager.MAIN_NODE,function(){a.BaseFunc.getWorkNode(i.GManager.FLUSH_NODE).removeAllChildren(!0)})},t=r([l],t)}(cc.Component));n.default=u,cc._RF.pop()},{"../GManager":"GManager","../base/AudioMgr":"AudioMgr","../base/BaseFunc":"BaseFunc"}],"GameOver.getz":[function(e,t,n){"use strict";cc._RF.push(t,"003c1634PpI85dyg1K63ZGN","GameOver.getz");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../framework/base/BaseScene"),a=cc._decorator,c=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onOpenScene=function(){cc.log(this.initParams),this.rootNode.lbScore.$Label.string=this.initParams.score,this.rootNode.lbTip.active=this.initParams.showTip},t.prototype.bindButton=function(){this.bindButtonEvent(this.rootNode.btnContinue,this.onPressContinue.bind(this))},t.prototype.onPressContinue=function(){this.initParams.confirmCallBack&&this.initParams.confirmCallBack(),this.closeSelf()},t=r([c],t)}(i.default));n.default=s,cc._RF.pop()},{"../framework/base/BaseScene":"BaseScene"}],"GameScene.getz":[function(e,t,n){"use strict";cc._RF.push(t,"6ce73at6iNJK43W4WxtzRp7","GameScene.getz");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../framework/base/BaseScene"),a=e("./GameTile.getz"),c=e("../framework/base/BaseFunc"),s=e("./GameLogic.getz"),l=e("../framework/GManager"),u=cc._decorator,p=u.ccclass,f=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tileManager=[],t.tileBgManager=[],t.nextTileStr=0,t.letterNumber=26,t.dfs_helper_count=0,t.dfs_helper_array=[],t.grid_max_y=5,t.grid_max_x=5,t.block_put_new=!1,t.debug_flag=!1,t.score=0,t.bestScore=0,t}return o(t,e),t.prototype.onOpenScene=function(){var e=this;cc.log("Gamescene onOpenScene"),this.initGridBackground();var t=c.BaseFunc.load("bestScore",10);this.updateBestScore(t),this.block_put_new=!0;var n=this;this.scheduleOnce(function(){e.reinitGame(),n.loadGameState(),n.block_put_new=!1},.1)},t.prototype.bindButton=function(){this.bindButtonEvent(this.rootNode.btnRestart,this.onPressRestart.bind(this),c.ButtonEffects.COLOR),this.bindButtonEvent(this.rootNode.btnHelp,this.onPressHelp.bind(this),c.ButtonEffects.COLOR)},t.prototype.initGridBackground=function(){for(var e=0;e<5;++e){this.tileBgManager[e]=[];for(var t=0;t<5;++t){var n=cc.instantiate(this.rootNode.nodeTileBgPrefab);n.pos_y=e,n.pos_x=t,n.getChildByName("lbTileBg").getComponent(cc.Label).string="",this.debug_flag&&(n.getChildByName("lbTileBg").getComponent(cc.Label).string="("+t+","+e+")"),this.bindButtonEvent(n,this.onPressTileBg.bind(this)),this.rootNode.nodeGridsBg.addChild(n),this.tileBgManager[e][t]=n}}for(e=0;e<5;++e)this.tileManager[e]=[]},t.prototype.reinitGame=function(){this.score=0,this.updateScore(0),this.clearGrid()},t.prototype.clearGame=function(){c.BaseFunc.save("tileState",null),c.BaseFunc.save("curScore",0),c.BaseFunc.save("nextTile",-1),this.reinitGame(),this.createNextTileStr()},t.prototype.clearGrid=function(){for(var e=0;e<5;++e)for(var t=0;t<5;++t)null!=this.tileManager[e][t]&&(this.tileManager[e][t].destorySelf(),this.tileManager[e][t]=null)},t.prototype.onPressRestart=function(){cc.log("onPressRestart"),this.clearGame()},t.prototype.onPressHelp=function(){cc.log("onPressHelp")},t.prototype.onPressTileBg=function(e,t){cc.log("onPressTileBg",e.target.pos_y,e.target.pos_x),this.createTilePrepare(e.target.pos_x,e.target.pos_y,this.nextTileStr)},t.prototype.createTilePrepare=function(e,t,n){null==this.tileManager[t][e]?this.block_put_new?cc.log("check cur tiles, waiting"):(this.block_put_new=!0,this.createTile(e,t,n),this.createNextTileStr()):cc.log("this cave alreay has a tile")},t.prototype.createNextTileStr=function(e){void 0===e&&(e=-1),this.nextTileStr=-1==e?c.BaseFunc.getWeightIdx(this.nextLetterWeight):e,this.nextTileStr%=this.letterNumber;var t=("000"+this.nextTileStr).slice(-3);this.SetSpriteImage(this.rootNode.sptNextTile,"moduleGetZ/texture/letter/"+t)},t.prototype.createTile=function(e,t,n,o){var r=this;void 0===o&&(o=!0);var i=cc.instantiate(this.rootNode.nodeTilePrefab);this.tileManager[t][e]=i.getComponent(a.default);var c=this.tileBgManager[t][e].x,s=this.tileBgManager[t][e].y;this.rootNode.nodeGrids.addChild(i);var l=o;this.tileManager[t][e].initTile(e,t,n,c,s,function(){l&&(r.checkMergeTileDFS(e,t,[]),r.tryMergeTile())})},t.prototype.mergeTile=function(){var e=this,t=this.dfs_helper_array[0],n=t.getGridPos(),o=n.y,r=n.x,i=t.getLetter(),a=i+1,c=this.dfs_helper_array.length;a>=this.letterNumber&&(a=this.letterNumber);for(var s=function(){e.afterMergeTile(),e.calcScore(c,i),e.createTile(r,o,a)};this.dfs_helper_array.length>0;){var l=this.dfs_helper_array.pop(),u=l.getGridPos();o=u.y,r=u.x,this.tileManager[u.y][u.x]=null,l.setCheck(!1),l.startMove(s),s=null}},t.prototype.afterMergeTile=function(){this.block_put_new=!1,this.saveGameState()},t.prototype.tryMergeTile=function(){if(this.dfs_helper_count<3){for(;this.dfs_helper_array.length>0;){this.dfs_helper_array.pop().setCheck(!1)}return this.afterMergeTile(),void this.checkGameOver()}this.mergeTile()},t.prototype.checkGameOver=function(){for(var e=!0,t=0;t<5;++t)for(var n=0;n<5;++n)if(null==this.tileManager[t][n])return void(e=!1);e&&this.gameOver(!1)},t.prototype.calcScore=function(e,t){var n=(t+1)*e;this.updateScore(n)},t.prototype.updateScore=function(e){this.score+=e,this.rootNode.lbScore.$Label.string=this.score,this.updateBestScore(this.score),this.updateNextLetterWeight()},t.prototype.updateNextLetterWeight=function(){for(var e=0,t=s.GameLogic.nextLetterWeights;e<t.length;e++){var n=t[e];if(this.score<n.score){this.nextLetterWeight=n.weight;break}}},t.prototype.updateBestScore=function(e){this.bestScore<e&&(this.bestScore=e,this.rootNode.lbBest.$Label.string=this.bestScore,c.BaseFunc.save("bestScore",this.bestScore))},t.prototype.loadGameState=function(){var e=c.BaseFunc.load("nextTile",-1);this.createNextTileStr(e);var t=c.BaseFunc.load("tileState");if(null!=t){var n=c.BaseFunc.load("curScore",0);this.updateScore(n);for(var o=0;o<5;++o)for(var r=0;r<5;++r)null!=t[o][r]&&this.createTile(r,o,t[o][r].tile_s,!1)}},t.prototype.saveGameState=function(){for(var e=[],t=0;t<5;++t){e[t]=[];for(var n=0;n<5;++n)null!=this.tileManager[t][n]&&(e[t][n]=this.tileManager[t][n].getTileInfo())}c.BaseFunc.save("tileState",e),c.BaseFunc.save("curScore",this.score),c.BaseFunc.save("nextTile",this.nextTileStr)},t.prototype.gameOver=function(e){var t=this;if(void 0===e&&(e=!1),e)cc.log("you win");else{cc.log("you lose");var n={score:this.score,showTip:this.score==this.bestScore,confirmCallBack:function(){t.clearGame()}};l.GManager.popScene("moduleGetZ","GameOver",l.GManager.POP_NODE,n)}},t.prototype.checkMergeTileDFS=function(e,t,n){var o=this.tileManager[t][e];null!=o&&(o.getCheck()||(this.dfs_helper_count=0,this.checkMergeTileDFSHelper(o,e,t,n)))},t.prototype.checkMergeTileDFSHelper=function(e,t,n,o){if(!(t<0||t>=this.grid_max_x||n<0||n>=this.grid_max_y)){var r=this.tileManager[n][t];if(null!=r&&!r.getCheck()&&this.isSameTile(e,r)){var i=JSON.parse(JSON.stringify(o));r.setCheck(!0),this.dfs_helper_array.push(r),this.dfs_helper_count++,r.setMoveList(i),i.push(r.node.getPosition()),this.checkMergeTileDFSHelper(e,t,n+1,i),this.checkMergeTileDFSHelper(e,t,n-1,i),this.checkMergeTileDFSHelper(e,t+1,n,i),this.checkMergeTileDFSHelper(e,t-1,n,i)}}},t.prototype.isSameTile=function(e,t){return e.getLetter()==t.getLetter()},t.prototype.onCloseScene=function(){cc.log("Gamescene onCloseScene")},t=r([p],t)}(i.default));n.default=f,cc._RF.pop()},{"../framework/GManager":"GManager","../framework/base/BaseFunc":"BaseFunc","../framework/base/BaseScene":"BaseScene","./GameLogic.getz":"GameLogic.getz","./GameTile.getz":"GameTile.getz"}],"GameTile.getz":[function(e,t,n){"use strict";cc._RF.push(t,"775907Z2wxD46HZqlCitZq2","GameTile.getz");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../framework/base/BaseScene"),a=e("./GameTileInfo.getz"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tile_y=0,t.tile_x=0,t.tile_s=0,t.is_checked=!1,t.move_list=[],t.in_move=!1,t}return o(t,e),t.prototype.onOpenScene=function(){cc.log("GameTile onOpenScene")},t.prototype.setCheck=function(e){void 0===e&&(e=!1),this.is_checked=e},t.prototype.getCheck=function(){return this.is_checked},t.prototype.setMoveList=function(e){void 0===e&&(e=[]),this.move_list=e},t.prototype.setGridPos=function(e){this.tileInfo.tile_x=e.x,this.tileInfo.tile_y=e.y},t.prototype.getGridPos=function(){return new cc.Vec2(this.tileInfo.tile_x,this.tileInfo.tile_y)},t.prototype.getLetter=function(){return this.tileInfo.tile_s},t.prototype.destorySelf=function(){this.in_move=!1,this.move_list=[],this.node.removeFromParent(!0)},t.prototype.startMove=function(e){var t=this;void 0===e&&(e=null);var n=function(){t.in_move=!1,t.destorySelf(),e&&e()};if(0!=this.move_list.length){for(var o=[];this.move_list.length>0;){var r=this.move_list.pop();o[o.length]=cc.delayTime(1e-4),o[o.length]=cc.moveTo(.1,r)}o[o.length]=cc.callFunc(n),this.in_move=!0,this.node.stopAllActions(),this.node.runAction(cc.sequence(o))}else n()},t.prototype.initTile=function(e,t,n,o,r,i){void 0===i&&(i=null),this.tileInfo=new a.CGameTile(e,t,n),this.tileInfo.tile_y=t,this.tileInfo.tile_x=e,this.setTileLetter(n),this.node.setPosition(o,r);var c=[];c[c.length]=cc.delayTime(.001),c[c.length]=cc.scaleTo(.1,1).easing(cc.easeSineOut()),c[c.length]=cc.callFunc(function(){i&&i()}),this.node.scale=.01,this.node.stopAllActions(),this.node.runAction(cc.sequence(c))},t.prototype.getTileInfo=function(){return this.tileInfo},t.prototype.setTileLetter=function(e){this.tileInfo.tile_s=e;var t=("000"+e).slice(-3);this.SetSpriteImage(this.node,"moduleGetZ/texture/letter/"+t)},t.prototype.displayAniIn=function(){},t.prototype.displayAniOut=function(){},t.prototype.onCloseScene=function(){cc.log("GameTile onCloseScene")},t=r([s],t)}(i.default));n.default=l,cc._RF.pop()},{"../framework/base/BaseScene":"BaseScene","./GameTileInfo.getz":"GameTileInfo.getz"}],"GameTileInfo.getz":[function(e,t,n){"use strict";cc._RF.push(t,"2a73b9SOu9La7bgXUiiQiJ2","GameTileInfo.getz"),Object.defineProperty(n,"__esModule",{value:!0}),n.CGameTile=void 0;var o=function(){return function(e,t,n){this.tile_y=0,this.tile_x=0,this.tile_s=0,this.tile_x=e,this.tile_y=t,this.tile_s=n}}();n.CGameTile=o,cc._RF.pop()},{}],HotUpdate:[function(e,t,n){"use strict";cc._RF.push(t,"51edd1HoIBLFYo5B9uNvm2r","HotUpdate");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i,a=e("../base/BaseScene"),c=e("../GManager"),s=e("../base/BaseFunc"),l=cc._decorator,u=l.ccclass,p=l.property,f=["No use hot update!","No local manifest file found, hot update skipped.","Fail to download manifest file, hot update skipped.","Fail to parse manifest file, hot update skipped.","Asset update error.","Compression package decoding failed.","Already up to date with the latest remote version.","New version found, please try to update.","Update finished.","Update failed."];(function(e){e[e.NONE=0]="NONE",e[e.ERROR_NO_LOCAL_MANIFEST=1]="ERROR_NO_LOCAL_MANIFEST",e[e.ERROR_DOWNLOAD_MANIFEST=2]="ERROR_DOWNLOAD_MANIFEST",e[e.ERROR_PARSE_MANIFEST=3]="ERROR_PARSE_MANIFEST",e[e.ERROR_UPDATING=4]="ERROR_UPDATING",e[e.ERROR_DECOMPRESS=5]="ERROR_DECOMPRESS",e[e.ALREADY_UP_TO_DATE=6]="ALREADY_UP_TO_DATE",e[e.NEW_VERSION_FOUND=7]="NEW_VERSION_FOUND",e[e.UPDATE_FINISHED=8]="UPDATE_FINISHED",e[e.UPDATE_FAILED=9]="UPDATE_FAILED",e[e.UPDATE_PROGRESSION=10]="UPDATE_PROGRESSION"})(i||(i={}));var d=function(e,t){console.log("JS Custom Version Compare: version A is "+e+", version B is "+t);for(var n=e.split("."),o=t.split("."),r=0;r<n.length;++r){var i=parseInt(n[r]),a=parseInt(o[r]||0);if(i!==a)return i-a}return o.length>n.length?-1:0},g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.manifestUrl=null,t.state=i.NONE,t._am=null,t._storagePath="",t._tag="popstar",t._updating=!1,t._canRetry=!1,t._failCount=0,t._totalFilesCount=0,t._totalBytesCount=0,t}return o(t,e),t.prototype.onOpenScene=function(){cc.sys.isBrowser?this.showMainScene():CC_WECHATGAME?this.showMainScene():(this.setProgress(this.rootNode.progress,0),this._storagePath=jsb.fileUtils.getWritablePath()+this._tag+"_temp",console.log("Storage path for remote asset : "+this._storagePath),this._am=new jsb.AssetsManager("",this._storagePath,d),this._am.setVerifyCallback(function(e,t){var n=t.compressed,o=t.md5,r=t.path;t.size;return n?(console.log("Verification passed : "+r),!0):(console.log("Verification passed : "+r+" ("+o+")"),!0)}),cc.sys.os===cc.sys.OS_ANDROID&&this._am.setMaxConcurrentTask(2),this.hotUpdate())},t.prototype.checkHandlers=function(e){console.log("[HotUpdate.checkHandlers]",e),e==i.ALREADY_UP_TO_DATE&&this.showMainScene()},t.prototype.updateHandlers=function(e,t,n,o,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===o&&(o=""),void 0===r&&(r=""),console.log("[HotUpdate.updateResult2]",e,t,n,o,r),""!=o&&(this.rootNode.labelProgress.$Label.string=o),e==i.ALREADY_UP_TO_DATE&&this.showMainScene()},t.prototype.checkUpdateCallback=function(e){cc.log("Code: "+e.getEventCode());var t;switch(e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.state=i.ERROR_NO_LOCAL_MANIFEST;break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:this.state=i.ERROR_DOWNLOAD_MANIFEST;break;case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.state=i.ERROR_PARSE_MANIFEST;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this.state=i.ALREADY_UP_TO_DATE;break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:this.state=i.NEW_VERSION_FOUND;break;default:return}this._am.setEventCallback(null),this._updating=!1,t=f[this.state],cc.log("checkUpdateCallback:",t),this.checkHandlers(this.state)},t.prototype.checkUpdate=function(){if(cc.sys.isNative)if(this._updating)cc.log("Checking or updating ...");else{if(this._am.getState()===jsb.AssetsManager.State.UNINITED){var e=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(e=cc.loader.md5Pipe.transformURL(e)),this._am.loadLocalManifest(e)}this._am.getLocalManifest()&&this._am.getLocalManifest().isLoaded()?(this._am.setEventCallback(this.checkUpdateCallback.bind(this)),this._am.checkUpdate(),this._updating=!0):cc.log("Failed to load local manifest ...")}else this.checkHandlers(this.state)},t.prototype.hotUpdate=function(){if(cc.sys.isNative){if(this._am&&!this._updating){if(this._am.setEventCallback(this.hotUpdateCallback.bind(this)),this._am.getState()===jsb.AssetsManager.State.UNINITED){var e=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(e=cc.loader.md5Pipe.transformURL(e)),this._am.loadLocalManifest(e)}this._failCount=0,this._am.update(),this._updating=!0}}else this.updateHandlers(this.state)},t.prototype.hotUpdateCallback=function(e){var t=!1,n=!1,o=0,r=0,a="0/0",c="0/0";switch(e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.state=i.ERROR_NO_LOCAL_MANIFEST,n=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:this.state=i.UPDATE_PROGRESSION,this._totalFilesCount=e.getTotalFiles(),this._totalBytesCount=e.getTotalBytes(),r=e.getPercentByFile(),c=e.getDownloadedFiles()+" / "+this._totalFilesCount,o=e.getPercent(),a=e.getDownloadedBytes()+" / "+this._totalBytesCount;var s=e.getMessage();s&&"Updated file: "+s,this.setProgress(this.rootNode.progress,e.getPercent());break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:this.state=i.ERROR_DOWNLOAD_MANIFEST;break;case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.state=i.ERROR_PARSE_MANIFEST,n=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this.state=i.ALREADY_UP_TO_DATE,n=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:this.state=i.UPDATE_FINISHED,o=1,r=1,a=this._totalBytesCount+"/"+this._totalBytesCount,c=this._totalFilesCount+"/"+this._totalFilesCount,t=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:this.state=i.UPDATE_FAILED,this._updating=!1,this._canRetry=!0;break;case jsb.EventAssetsManager.ERROR_UPDATING:this.state=i.ERROR_UPDATING,"Asset update error: "+e.getAssetId()+", "+e.getMessage(),this._failCount++;break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:this.state=i.ERROR_DECOMPRESS,e.getMessage()}if(n&&(this._am.setEventCallback(null),this._updating=!1),t){this._am.setEventCallback(null);var l=jsb.fileUtils.getSearchPaths(),u=this._am.getLocalManifest().getSearchPaths();return console.log("new search path:",JSON.stringify(u)),Array.prototype.unshift.apply(l,u),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(l)),jsb.fileUtils.setSearchPaths(l),cc.audioEngine.stopAll(),console.log("[HotUpdate.updateCallback] restart 1"),cc.game.restart(),console.log("[HotUpdate.updateCallback] restart 2"),void cc.log("hotupdate done!")}this.updateHandlers(this.state,o,r,a,c)},t.prototype.showMainScene=function(){this.closeSelf(),this.setProgress(this.rootNode.progress,0),c.GManager.popScene("moduleLobby","ModuleStart",c.GManager.MAIN_NODE,function(){console.log("BaseFunc.getWorkNode(GManager.FLUSH_NODE).removeAllChildren(true)"),s.BaseFunc.getWorkNode(c.GManager.FLUSH_NODE).removeAllChildren(!0),console.log("BaseFunc.getWorkNode(GManager.FLUSH_NODE).removeAllChildren(true) 1")})},t.prototype.onDestroy=function(){},t.State=i,r([p({type:cc.Asset,tooltip:"\u5f53\u524d\u7248\u672c\u8d44\u6e90\u8bb0\u5f55\u7684manifest\u6587\u4ef6"})],t.prototype,"manifestUrl",void 0),t=r([u],t)}(a.default);n.default=g,cc._RF.pop()},{"../GManager":"GManager","../base/BaseFunc":"BaseFunc","../base/BaseScene":"BaseScene"}],LoadingScene:[function(e,t,n){"use strict";cc._RF.push(t,"e94d2C5nWpGl6B8NydRrKWQ","LoadingScene");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../base/BaseScene"),a=e("../GManager"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._curProgress=0,t._updateProgress=0,t}return o(t,e),t.prototype.onOpenScene=function(){a.GManager.addEvtListener("UPDATE_LOADING_PROGRESS",this.updateProgress.bind(this)),this._curProgress=0},t.prototype.updateProgress=function(e){this._updateProgress=e.value},t.prototype.update=function(e){this._curProgress>=1||(this._curProgress+=Math.min(e,this._updateProgress-this._curProgress),this.setProgress("progress",this._curProgress),this._curProgress>=1&&a.GManager.dispatchEvent("UPDATE_LOADING_FINISH"))},t=r([s],t)}(i.default));n.default=l,cc._RF.pop()},{"../GManager":"GManager","../base/BaseScene":"BaseScene"}],"LobbyScene.lobby":[function(e,t,n){"use strict";cc._RF.push(t,"51b3aGbTphLS7Vb8F5LFUtq","LobbyScene.lobby");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../framework/base/BaseScene"),a=cc._decorator,c=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onOpenScene=function(){console.log("LobbyScene onOpenScene"),this.initMenus(),this.initGames(),this.regModel(),console.log("LobbyScene onOpenScene end"),this.moveTitle()},t.prototype.moveTitle=function(){var e=[];e[e.length]=cc.delayTime(.001),e[e.length]=cc.moveBy(.6,cc.v2(0,20)),e[e.length]=cc.moveBy(.6,cc.v2(0,-20)),this.rootNode.lbTitle.stopAllActions(),this.rootNode.lbTitle.runAction(cc.repeatForever(cc.sequence(e)))},t.prototype.update=function(e){},t.prototype.initMenus=function(){console.log("LobbyScene initMenus")},t.prototype.initGames=function(){},t.prototype.regModel=function(){},t.prototype.onCloseScene=function(){},t=r([c],t)}(i.default));n.default=s,cc._RF.pop()},{"../framework/base/BaseScene":"BaseScene"}],LogManager:[function(e,t,n){"use strict";cc._RF.push(t,"e789cRjc9ZBY47UfL2QQ4F4","LogManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.LogManager=void 0;var o=e("../GManager");(function(e){function t(e){void 0===e&&(e=3);var t=(new Error).stack.split("\n");t.shift();var n=[];t.forEach(function(e){e=e.substring(7),n.push(e)});for(var o="",r=0;0<e&&r<n.length;r++){var i=n[r].split(" ");"_stack"!==i[0]&&"eval"!==i[0]&&"Array.map"!==i[0]&&"Object.log"!==i[0]&&"Object.info"!==i[0]&&"Object.warn"!==i[0]&&"Object.error"!==i[0]&&(o+="\n at "+n[r].replace("Object.",""),e--)}return o}function n(){var e=new Date,t=e.getHours()+"",n="";return n+=(1===t.length?"0"+t:t)+":",n+=(1===(t=e.getMinutes()+"").length?"0"+t:t)+":",n+=(1===(t=e.getSeconds()+"").length?"0"+t:t)+".",1===(t=e.getMilliseconds()+"").length&&(t="00"+t),2===t.length&&(t="0"+t),n="["+(n+=t)+"]"}e.log=function(){if(o.GManager.isLog){var r=cc.log||console.log||window.log;1==arguments.length&&"object"==typeof arguments[0]?r.call(e,"%s",n(),arguments[0],t(1)):r.call(e,"%s %s",n(),cc.js.formatStr.apply(cc,arguments),t(1))}},e.log2=function(){if(o.GManager.isLog){var r=cc.log||console.log||window.log;1==arguments.length&&"object"==typeof arguments[0]?r.call(e,"%c%s","color:#EED2EE;",n(),arguments[0],t(1)):r.call(e,"%c%s %s %s","color:#EED2EE;",n(),cc.js.formatStr.apply(cc,arguments),t(1))}},e.info=function(){o.GManager.isLog&&(cc.log||console.log||window.log).call(e,"%c%s %s %s","color:#00CD00;",n(),cc.js.formatStr.apply(cc,arguments),t())},e.info2=function(){o.GManager.isLog&&(cc.log||console.log||window.log).call(e,"%c%s %s %s","color:#F08080;",n(),cc.js.formatStr.apply(cc,arguments),t())},e.info3=function(){o.GManager.isLog&&(cc.log||console.log||window.log).call(e,"%c%s %s %s","color:#9B30FF;",n(),cc.js.formatStr.apply(cc,arguments),t())},e.warn=function(){o.GManager.isLog&&(cc.log||console.log||window.log).call(e,"%c%s %s %s","color:#ee7700;",n(),cc.js.formatStr.apply(cc,arguments),t())},e.error=function(){o.GManager.isLog&&(cc.log||console.log||window.log).call(e,"%c%s %s %s","color:red",n(),cc.js.formatStr.apply(cc,arguments),t(5))}})(n.LogManager||(n.LogManager={})),cc._RF.pop()},{"../GManager":"GManager"}],"ModuleStart.getz":[function(e,t,n){"use strict";cc._RF.push(t,"e08a6hlNwhEbqAA+sFxeZLu","ModuleStart.getz");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../framework/GManager"),a=e("../framework/base/PreLoad"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._images=["moduleGetZ/texture/letter"],t._audios=[],t}return o(t,e),t.prototype.onOpenScene=function(){e.prototype.onOpenScene.call(this)},t.prototype.onLoadFinish=function(){var e=this;console.log("moduleStart.getz onLoadFinish",this.uuid),i.GManager.popScene("moduleGetZ","GameScene",i.GManager.MAIN_NODE,function(){e.closeLoadingScene(),i.GManager.closeScene("ModuleStart")})},t.prototype.onEnable=function(){console.log("moduleStart onEnable")},t.prototype.onDisable=function(){console.log("moduleStart onDisable")},t.prototype.onLoad=function(){e.prototype.onLoad.call(this),console.log("moduleStart onLoad")},t=r([s],t)}(a.default));n.default=l,cc._RF.pop()},{"../framework/GManager":"GManager","../framework/base/PreLoad":"PreLoad"}],"ModuleStart.lobby":[function(e,t,n){"use strict";cc._RF.push(t,"5169adS9tVAIpPxk4L3ANa5","ModuleStart.lobby");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../framework/GManager"),a=e("../framework/base/PreLoad"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._images=[],t._audios=[],t}return o(t,e),t.prototype.onOpenScene=function(){e.prototype.onOpenScene.call(this)},t.prototype.onLoadFinish=function(){var e=this;console.log("moduleStart.lobby onLoadFinish",this.uuid),i.GManager.popScene("moduleLobby","LobbyScene",i.GManager.MAIN_NODE,function(){e.closeLoadingScene(),i.GManager.closeScene("ModuleStart")})},t.prototype.onEnable=function(){console.log("moduleStart onEnable")},t.prototype.onDisable=function(){console.log("moduleStart onDisable")},t.prototype.onLoad=function(){e.prototype.onLoad.call(this),console.log("moduleStart onLoad")},t=r([s],t)}(a.default));n.default=l,cc._RF.pop()},{"../framework/GManager":"GManager","../framework/base/PreLoad":"PreLoad"}],PreLoad:[function(e,t,n){"use strict";cc._RF.push(t,"96ab8i0BiJMB4B8u36qhkQq","PreLoad");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./BaseScene"),a=e("../GManager"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._images=[],t._audios=[],t._count=0,t._value=0,t}return o(t,e),t.prototype.onOpenScene=function(){a.GManager.popScene("moduleBase","LoadingScene",a.GManager.FLUSH_NODE,this.preload.bind(this)),a.GManager.addEvtListener("UPDATE_LOADING_FINISH",this.onLoadFinish.bind(this),this.uuid)},t.prototype.preload=function(){this._count=this._images.length+this._audios.length,this._count>0?this.scheduleOnce(this.loadRes.bind(this),.1):this.scheduleOnce(a.GManager.dispatchEvent.bind(this,"UPDATE_LOADING_PROGRESS",{value:1}),.1)},t.prototype.loadRes=function(){var e=this,t=null,n=null;this._images.length>0?(t=this._images.shift(),n=a.GManager.loadImages):this._audios.length>0&&(t=this._audios.shift(),n=a.GManager.loadAudios),null!==t&&n(t,function(t){if(null!==t){var n=e._value;null!==t.progress&&void 0!==t.progress?n+=1*t.progress/e._count:(n=1/e._count,e._value+=n,e.scheduleOnce(e.loadRes.bind(e),.1)),a.GManager.dispatchEvent("UPDATE_LOADING_PROGRESS",{value:e._value})}})},t.prototype.onLoadFinish=function(){},t.prototype.closeLoadingScene=function(){a.GManager.closeScene("LoadingScene")},t=r([s],t)}(i.default));n.default=l,cc._RF.pop()},{"../GManager":"GManager","./BaseScene":"BaseScene"}],ResManager:[function(e,t,n){"use strict";cc._RF.push(t,"d7313NnxFJM46Zx4Tcb2e5B","ResManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.ResManager=void 0;var o=e("../GManager"),r=e("./BaseFunc"),i={},a={};(function(e){function t(e,t,n){void 0===n&&(n=null),null!=e?cc.loader.loadRes(e,t,function(r,i){if(r)o.GManager.error("Load asset err: ",r);else{var c=null;if(t==cc.Prefab)c=cc.instantiate(i);else if(t===cc.SpriteFrame){l(e.substring(0,e.lastIndexOf("/")),e.substring(e.lastIndexOf("/")+1,e.length),i),c=i}else t===cc.AudioClip?(a[e]=i,c=i):c=i;n&&"function"==typeof n&&n(c)}}):o.GManager.warn("UILoader loadRes path is null")}function n(e,t){if(void 0===t&&(t=null),null!=e){var n=e.substring(e.lastIndexOf(".")+1,e.length);cc.loader.load({url:e,type:n},function(r,i){if(r)o.GManager.error("Load asset err: ",r);else{var c=null;if("png"===n||"jpg"===n)l(e.substring(0,e.lastIndexOf("/")),e.substring(e.lastIndexOf("/")+1,e.length),i=new cc.SpriteFrame(i)),c=i;else"mp3"===n?(a[e]=i,c=i):c=i;t&&"function"==typeof t&&t(c)}})}else o.GManager.warn("UILoader loadRes path is null")}function c(e,t,n){void 0===n&&(n=null),null!=e?cc.loader.loadResDir(e,t,function(e,t,o){n&&"function"==typeof n&&n({progress:e/t})},function(r,i){if(r)o.GManager.error("Load asset err: ",r);else{var c=null;t==cc.Prefab?c=i.map(function(e){return cc.instantiate(e)}):t===cc.SpriteFrame?(i.map(function(t){return l(e,t.name,t)}),c=i):t===cc.AudioClip?(i.map(function(e){return a[e.name]=e}),c=i):c=i,n&&"function"==typeof n&&n(c)}}):o.GManager.warn("UILoader loadRes path is null")}function s(e,t,n){void 0===n&&(n=null),null!=e&&"object"==typeof e&&0!=e.length?cc.loader.loadResArray(e,t,function(e,t,o){n&&"function"==typeof n&&n({progress:e/t})},function(r,i){if(r)o.GManager.error("Load asset err: ",r);else{var c=null;t==cc.Prefab?c=i.map(function(e){return cc.instantiate(e)}):t===cc.SpriteFrame?(i.map(function(t){return l(e,t.name,t)}),c=i):t===cc.AudioClip?(i.map(function(e){return a[e.name]=e}),c=i):c=i,n&&"function"==typeof n&&n(c)}}):o.GManager.warn("UILoader loadResArray path is null or path length is 0")}function l(e,t,n){null!==i[e]&&void 0!==i[e]||(i[e]={}),null!==i[e][t]&&void 0!==i[e][t]||(i[e][t]=n)}e.loadPrefab=function(e,n){t(e,cc.Prefab,n)},e.loadImage=function(e,o){var a=e.substring(0,e.lastIndexOf("/")),c=e.substring(e.lastIndexOf("/")+1,e.length);i[a]&&i[a][c]?o&&"function"==typeof o&&o(i[a][c]):r.BaseFunc.IsHttpSrc(e)?n(e,o):t(e,cc.SpriteFrame,o)},e.loadImages=function(e,t){"string"==typeof e?c(e,cc.SpriteFrame,t):s(e,cc.SpriteFrame,t)},e.loadAudio=function(e,o){a[e]?o&&"function"==typeof o&&o(a[e]):r.BaseFunc.IsHttpSrc(e)?n(e,o):t(e,cc.AudioClip,o)},e.loadAudios=function(e,t){"string"==typeof e?c(e,cc.AudioClip,t):s(e,cc.AudioClip,t)}})(n.ResManager||(n.ResManager={})),cc._RF.pop()},{"../GManager":"GManager","./BaseFunc":"BaseFunc"}],SceneManager:[function(e,t,n){"use strict";cc._RF.push(t,"be6cbQYaA5LzKsyxWy4zD/Q","SceneManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.SceneManager=void 0;var o=e("./BaseScene"),r=e("../GManager"),i=e("../base/BaseFunc"),a={};(function(e){e.popScene=function(e,t,n,c,s){void 0===n&&(n=i.NODE_TYPE.POP_NODE),void 0===s&&(s=null),r.GManager.loadPrefab(e+"/prefab/"+t,function(e){if(e.position=cc.Vec3.ZERO,n===i.NODE_TYPE.POP_NODE){var t=i.BaseFunc.getWorkNode(n);if(null===t.getChildByName("MaskNode")){var l=new cc.Node("MaskNode");l.setContentSize(cc.winSize);var u=l.addComponent(cc.Sprite);u.spriteFrame=new cc.SpriteFrame;var p=new cc.Texture2D;p.initWithData(new Uint8Array([0,0,0,150]),cc.Texture2D.PixelFormat.RGBA8888,1,1),u.spriteFrame.setTexture(p),u.spriteFrame.setRect(cc.rect(0,0,20*cc.winSize.width,20*cc.winSize.width));var f=l.addComponent(cc.Button);f.transition=cc.Button.Transition.NONE;var d=l.addComponent(o.default);d.onMaskClose=function(e,n){var r=t.children[t.childrenCount-1].getComponent(o.default);r.maskClose&&!r.checkPopCollision(e.touch._point)&&r.closeSelf()},d.addEvtListener("CLOSE_SCENE",function(){1===t.childrenCount?l.removeFromParent(!0):l.setSiblingIndex(t.childrenCount-2)}),d.addEvtListener("POP_SCENE",function(){l.setSiblingIndex(t.childrenCount-2)}),i.BaseFunc.AddButtonEvent(f,l,"BaseScene","onMaskClose"),t.addChild(l)}}i.BaseFunc.getWorkNode(n).addChild(e),"function"==typeof c&&(s=c,c=null);var g=e.getComponent(o.default);g||(g=e.addComponent(o.default)),g.sceneName=e.name,g.initParams=c,g.scheduleOnce(g.onOpenScene.bind(g),0),i.BaseFunc.regEventHandler(g),a[e.name]=g,s&&"function"==typeof s&&s(g),r.GManager.dispatchEvent("POP_SCENE",{scene:g})})},e.closeScene=function(e,t){void 0===t&&(t=null),"string"==typeof e&&(e=a[e]),e.onCloseScene(),e.closeCallBack(),i.BaseFunc.removeEventHandler(e),t&&"function"==typeof t&&t(),delete a[e.sceneName],e.node.removeFromParent(!0),e.node.destroy(),r.GManager.dispatchEvent("CLOSE_SCENE",{scene:e})}})(n.SceneManager||(n.SceneManager={})),cc._RF.pop()},{"../GManager":"GManager","../base/BaseFunc":"BaseFunc","./BaseScene":"BaseScene"}]},{},["GameConfig","GManager","AudioMgr","BaseFunc","BaseScene","ConsoleScene","EventManager","LoadingScene","LogManager","PreLoad","ResManager","SceneManager","GameManager","HotUpdate","GameLogic.getz","GameOver.getz","GameScene.getz","GameTile.getz","GameTileInfo.getz","ModuleStart.getz","LobbyScene.lobby","ModuleStart.lobby"]);